# 다양한 필터링을 활용한 영화 추천 시스템

## 목차
0. 준비 단계
1. Simple 영화 추천 시스템
2. 사용자 기반 추천 시스템
3. 콘텐츠 기반 추천 시스템
4. 협업 필터링 추천 시스템
5. 하이브리드 추천 시스템
6. 결론


## 0. 준비 단계

### 프로젝트를 선정한 계기

많은 사람들이 사용하는 넷플릭스는 단순한 인기작뿐만이 아닌 사용자의 성향에 따른 다양한 영화들을 관람할 수 있게 추천 알고리즘이 구성되어 있다.

항상 이런 추천 시스템이 어떤식으로 구현되는지 궁금했었는데, 이번 프로젝트를 계기로 궁금증을 해소할 겸 스스로 한 번 영화 추천 시스템을 만들어 보자는 생각에 이 프로젝트를 선정하게 되었다.

#### 데이터 셋 링크
https://drive.google.com/drive/u/1/folders/0AM7WW25cfFwdUk9PVA

### TMDB 데이터 셋에 대한 탐색적 데이터 분석(EDA)

TMDB(https://www.themoviedb.org/) 는 전세계 다양한 사용자들에게 영화 정보와 리뷰를 받아 만들어진 영화 데이터베이스로, 영화 관련 데이터 분석을 할 때 가장 많이 쓰이는 데이터 셋 중 하나다. 

본인 역시 추천 시스템을 구상하기에 앞서 많은 시간을 할애하여 데이터를 분석하는 과정을 거쳤다. 예상보다 분석을 많이 활용하지는 못했지만, 이 과정을 통해 데이터 셋을 보다 잘 이해할 수 있었다. 

영화 입력값은 개인적으로 가장 좋아하는 영화인 'Star Wars'를 기준으로 하였다. 구체적인 코드와 진행 과정은 .ipynb 파일에 있으므로, 적당한 생략을 하며 진행하겠다.

## 1. Simple 영화 추천 시스템

TMDB 데이터 셋의 EDA을 통해 데이터의 파악을 마쳤다. 그렇다면 분석이 완료된 데이터들을 활용해 사용자에게 알맞은 영화를 추천해 줄 수 있는 시스템들을 구상해보자.

이번 연구에서 구상한 추천 시스템은 총 5개이다. 단순히 인기가 많은 영화를 추천하는 간단한 시스템부터, 개별 영화와 사용자의 성향을 파악하여 추천해주는 보다 복잡한 시스템까지 구현해보았다.

시스템들을 구성 및 구현하는 일련의 과정을 나열함으로써 시스템마다 발전시킨 부분과 그 부분들로 인해 나타난 결과(추천 목록)의 차이를 바로 볼 수 있게 하였다.

첫번째로 TMDB의 Rating 데이터 셋을 통해 가중치 공식을 사용하여 상위 영화 차트를 생성할 것이다. 가중치 공식은 수학적으로 다음과 같이 표현된다.

Weighted Rating(WR) = (𝑣/(𝑣+𝑚)X𝑅)+(𝑚/(𝑣+𝑚)X𝐶)  
v는 영화에 대한 vote 수.  
m은 차트에 사용하기 위해 필요한 최소 vote 수.  
R는 영화의 평균 rating.  
C는 전체 보고서에 걸친 평균 vote 수.  

전체 상위 영화와 장르별 상위 영화 추천 결과를 살펴보자.

- 상위 영화 차트
![1-1](https://user-images.githubusercontent.com/73309550/101662177-879d5680-3a8c-11eb-8f60-af1cc60471a6.PNG)


- 장르별 상위 영화 차트(Romance)
![1-2](https://user-images.githubusercontent.com/73309550/101662211-91bf5500-3a8c-11eb-9c56-0f6cda75ca86.PNG)


첫번째 시스템은 Vote의 개수와 Rating만을 사용했기 때문에 "추천" 시스템이라고 하기엔 부족한 면이 많다. 그렇다면 본격적으로 영화 "추천" 시스템을 구현해보자.

## 2. Pearson Correlation을 활용한 추천 시스템

이번 연구에서 활용하고 있는 데이터 셋에는 약 2600만개의 사용자들이 평가한 영화들의 평점들이 존재한다. 이러한 평점들을 집중적으로 활용한 추천시스템을 구현해 보고자 한다.

여기서는 피어슨 상관 계수를 사용할 예정이다. 피어슨 상관계수를 적용할 수 있는 이유는 아래와 같다.

만약 두 사람이 보는 영화들이 비슷하다면 영화 취향 역시 비슷할 것이다. 그렇다면 그 두 사람 중 한 사람이 평가한 특정 영화에 대해 좋은 평가를 내린다면, 다른 사람 역시 좋은 평가를 내릴 수 있다고 유추해볼 수 있다. 이러한 방법을 통해 시스템을 구상해 보았다.

- 실행 결과
![2](https://user-images.githubusercontent.com/73309550/101662232-984dcc80-3a8c-11eb-826a-b99a8260ec71.PNG)


